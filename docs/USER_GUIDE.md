# 使用指南

## 📋 目录

- [快速开始](#快速开始)
- [基础功能](#基础功能)
- [高级功能](#高级功能)
- [快捷键](#快捷键)
- [常见问题](#常见问题)

---

## 快速开始

### 第一次使用

1. **打开侧边栏**
   - 点击浏览器工具栏的扩展图标
   - 或使用快捷键 `Ctrl+Shift+P`（Mac: `Cmd+Shift+P`）

2. **创建第一个 Prompt**
   - 点击右上角的"+ 新建"按钮
   - 输入标题和描述
   - 使用标签编辑器添加标签
   - 点击"保存"

3. **从网页保存 Prompt**
   - 在网页上选中文本
   - 右键点击"保存为 Prompt"
   - Prompt 自动保存到管理器

---

## 基础功能

### 1. 创建和编辑 Prompt

#### 使用标签编辑器
- **添加标签**: 点击"+ 添加标签"或从右侧标签库选择
- **调整权重**: 拖动滑块调节标签权重（0.5-2.0）
- **排序**: 拖拽标签改变顺序
- **删除**: 点击标签上的 ❌ 删除

#### 标签类型
- 🎨 **主体** (Subject): 画面主体内容
- 🖼️ **风格** (Style): 艺术风格
- 💡 **光效** (Lighting): 光照效果
- 📐 **构图** (Composition): 构图方式
- ✏️ **技法** (Technique): 绘画技法
- 🔧 **自定义** (Custom): 其他内容

### 2. 搜索和过滤

#### 搜索
- 在顶部搜索框输入关键词
- 支持搜索标题、描述、标签

#### 排序
- **最近**: 按最后修改时间排序
- **收藏**: 收藏的 Prompt 优先显示
- **标题**: 按字母顺序排序

### 3. 收藏和标签

#### 收藏
- 点击 Prompt 卡片上的 ⭐ 图标
- 收藏的 Prompt 在"收藏"排序下优先显示

#### 业务标签
- 在编辑器底部添加业务标签（如：人物、风景、建筑）
- 用于分类和搜索

### 4. 复制和使用

#### 一键复制
- 点击 Prompt 卡片上的复制图标
- 自动复制为 Midjourney 格式
- 可在设置中选择默认格式

#### 预览格式
- 编辑时可实时预览
- 支持 Midjourney 和 Stable Diffusion 格式

---

## 高级功能

### 1. 版本控制

#### 查看历史
- 点击 Prompt 卡片上的"历史"图标（🕒）
- 查看所有历史版本

#### 版本操作
- **评分**: 点击星星给版本评分
- **对比**: 选择两个版本进行对比
- **恢复**: 点击"恢复"回到旧版本
- **删除**: 删除不需要的版本

#### 上传图片
- 编辑 Prompt 时上传关联图片
- 图片会保存在版本快照中
- 在时间轴中查看图片

### 2. AI 参数设置

#### 添加参数
- 在编辑器中点击"添加参数"
- 选择预设参数或自定义

#### Midjourney 参数
- `--ar`: 宽高比（1:1, 16:9 等）
- `--v`: 版本（5.2, 5.1 等）
- `--s`: 风格化程度（0-1000）
- `--q`: 质量（0.25, 0.5, 1, 2）
- `--seed`: 随机种子

#### Stable Diffusion 参数
- `steps`: 采样步数（1-150）
- `cfg_scale`: CFG Scale（1-30）
- `width/height`: 图片尺寸
- `sampler`: 采样器类型

### 3. 数据管理

#### 导出数据
1. 点击右上角设置图标（⚙️）
2. 切换到"数据管理"标签
3. 选择导出格式：
   - **JSON**: 完整备份（推荐）
   - **CSV**: 项目列表（Excel可用）
   - **CSV**: 版本快照

#### 导入数据
1. 打开设置 → 数据管理
2. 选择导入模式：
   - **合并**: 保留现有数据，添加新数据
   - **替换**: 清空现有数据（⚠️谨慎）
3. 选择之前导出的 JSON 文件
4. 确认导入

### 4. 批量操作

#### 进入批量模式
- 点击顶部"选择"按钮
- 勾选需要操作的 Prompt

#### 批量操作
- **全选**: 选中当前显示的所有 Prompt
- **批量收藏**: 将选中的 Prompt 加入收藏
- **批量删除**: 删除选中的 Prompt（有确认）
- **取消**: 退出批量模式

### 5. 主题切换

#### 切换主题
1. 打开设置 → 常规设置
2. 选择主题模式：
   - ☀️ **浅色**: 白色背景
   - 🌙 **深色**: 黑色背景，护眼
   - ⚡ **自动**: 跟随系统
3. 点击"保存设置"

---

## 快捷键

- `Ctrl+Shift+P` (Mac: `Cmd+Shift+P`): 打开/关闭侧边栏

---

## 常见问题

### Q: 如何更新扩展？
A: 在 `chrome://extensions/` 页面点击扩展的刷新按钮。

### Q: 数据保存在哪里？
A: 数据保存在 Chrome 本地存储中，不会上传到云端。

### Q: 可以在多台电脑上同步吗？
A: 目前不支持自动同步，但可以通过导出/导入功能手动同步。

### Q: 支持哪些 AI 模型？
A: 目前支持 Midjourney、Stable Diffusion 和 DALL-E。

### Q: 版本快照会占用很多空间吗？
A: 快照主要是文本数据，占用空间很小。图片使用 Base64 编码，建议控制在 5MB 以内。

### Q: 如何备份数据？
A: 定期使用"导出所有数据 (JSON)"功能，将文件保存在安全的地方。

### Q: 导入数据会覆盖现有数据吗？
A: 取决于选择的模式。"合并"模式会保留现有数据，"替换"模式会清空现有数据。

### Q: 如何恢复误删的 Prompt？
A: 如果之前有导出备份，可以通过导入功能恢复。建议定期备份数据。

### Q: 标签权重如何使用？
A: 权重越高，该标签在生成时的影响力越大。Midjourney 格式中会显示为 `(tag:1.5)` 这样的形式。

### Q: 可以自定义标签颜色吗？
A: 标签颜色由类型决定，目前不支持自定义颜色。

---

## 💡 使用技巧

### 1. 组织 Prompt
- 使用清晰的标题和描述
- 添加业务标签便于分类
- 收藏优秀的 Prompt

### 2. 版本管理
- 每次重要修改后添加备注
- 给好的版本评高分
- 定期清理不需要的版本

### 3. 效率提升
- 使用标签库快速添加常用标签
- 使用批量操作管理大量 Prompt
- 使用搜索快速定位

### 4. 数据安全
- 定期导出数据备份
- 重要修改前先导出
- 使用合并模式导入更安全

---

## 🆘 需要帮助？

- 查看 [安装指南](./INSTALL.md)
- 查看 [开发文档](./DEVELOPMENT.md)
- 提交 [Issue](https://github.com/yourusername/prompt-manager/issues)
- 参与 [讨论](https://github.com/yourusername/prompt-manager/discussions)

---

**祝你使用愉快！🎨**
